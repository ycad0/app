/*!
 FixedColumns 3.0.4
 Â©2010-2014 SpryMedia Ltd - datatables.net/license
*/

(function(e,t,n){var r=function(r){var i=function(e,t){var n=this;if(this instanceof i){"undefined"==typeof t&&(t={});var s=r.fn.dataTable.camelToHungarian;s&&(s(i.defaults,i.defaults,!0),s(i.defaults,t)),s=r.fn.dataTable.Api?(new r.fn.dataTable.Api(e)).settings()[0]:e.fnSettings(),this.s={dt:s,iTableColumns:s.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[]},this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}},s._oFixedColumns=this,s._bInitComplete?this._fnConstruct(t):s.oApi._fnCallbackReg(s,"aoInitComplete",function(){n._fnConstruct(t)},"FixedColumns")}else alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.")};return i.prototype={fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc(),this._fnGridLayout(),this.fnUpdate()},fnRecalculateHeight:function(e){delete e._DTTC_iHeight,e.style.height="auto"},fnSetRowHeight:function(e,t){e.style.height=t+"px"},fnGetPosition:function(e){var t=this.s.dt.oInstance;if(r(e).parents(".DTFC_Cloned").length){if("tr"===e.nodeName.toLowerCase())return e=r(e).index(),t.fnGetPosition(r("tr",this.s.dt.nTBody)[e]);var n=r(e).index(),e=r(e.parentNode).index();return[t.fnGetPosition(r("tr",this.s.dt.nTBody)[e]),n,t.oApi._fnVisibleToColumnIndex(this.s.dt,n)]}return t.fnGetPosition(e)},_fnConstruct:function(n){var o=this;if("function"!=typeof this.s.dt.oInstance.fnVersionCheck||!0!==this.s.dt.oInstance.fnVersionCheck("1.8.0"))alert("FixedColumns "+i.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");else if(""===this.s.dt.oScroll.sX)this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");else{this.s=r.extend(!0,this.s,i.defaults,n),n=this.s.dt.oClasses,this.dom.grid.dt=r(this.s.dt.nTable).parents("div."+n.sScrollWrapper)[0],this.dom.scroller=r("div."+n.sScrollBody,this.dom.grid.dt)[0],this._fnColCalc(),this._fnGridSetup();var u;r(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",function(){u="main"}).on("scroll.DTFC",function(){"main"===u&&(0<o.s.iLeftColumns&&(o.dom.grid.left.liner.scrollTop=o.dom.scroller.scrollTop),0<o.s.iRightColumns)&&(o.dom.grid.right.liner.scrollTop=o.dom.scroller.scrollTop)});var a="onwheel"in t.createElement("div")?"wheel.DTFC":"mousewheel.DTFC";0<o.s.iLeftColumns&&r(o.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",function(){u="left"}).on("scroll.DTFC",function(){"left"===u&&(o.dom.scroller.scrollTop=o.dom.grid.left.liner.scrollTop,0<o.s.iRightColumns&&(o.dom.grid.right.liner.scrollTop=o.dom.grid.left.liner.scrollTop))}).on(a,function(e){o.dom.scroller.scrollLeft-="wheel"===e.type?-e.originalEvent.deltaX:e.originalEvent.wheelDeltaX}),0<o.s.iRightColumns&&r(o.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",function(){u="right"}).on("scroll.DTFC",function(){"right"===u&&(o.dom.scroller.scrollTop=o.dom.grid.right.liner.scrollTop,0<o.s.iLeftColumns&&(o.dom.grid.left.liner.scrollTop=o.dom.grid.right.liner.scrollTop))}).on(a,function(e){o.dom.scroller.scrollLeft-="wheel"===e.type?-e.originalEvent.deltaX:e.originalEvent.wheelDeltaX}),r(e).on("resize.DTFC",function(){o._fnGridLayout.call(o)});var f=!0,l=r(this.s.dt.nTable);l.on("draw.dt.DTFC",function(){o._fnDraw.call(o,f),f=!1}).on("column-sizing.dt.DTFC",function(){o._fnColCalc(),o._fnGridLayout(o)}).on("column-visibility.dt.DTFC",function(){o._fnColCalc(),o._fnGridLayout(o),o._fnDraw(!0)}).on("destroy.dt.DTFC",function(){l.off("column-sizing.dt.DTFC destroy.dt.DTFC draw.dt.DTFC"),r(o.dom.scroller).off("scroll.DTFC mouseover.DTFC"),r(e).off("resize.DTFC"),r(o.dom.grid.left.liner).off("scroll.DTFC mouseover.DTFC "+a),r(o.dom.grid.left.wrapper).remove(),r(o.dom.grid.right.liner).off("scroll.DTFC mouseover.DTFC "+a),r(o.dom.grid.right.wrapper).remove()}),this._fnGridLayout(),this.s.dt.oInstance.fnDraw(!1)}},_fnColCalc:function(){var e=this,t=0,n=0;this.s.aiInnerWidths=[],this.s.aiOuterWidths=[],r.each(this.s.dt.aoColumns,function(i,s){var o=r(s.nTh),u;if(o.filter(":visible").length){var f=o.outerWidth();0===e.s.aiOuterWidths.length&&(u=r(e.s.dt.nTable).css("border-left-width"),f+="string"==typeof u?1:parseInt(u,10)),e.s.aiOuterWidths.length===e.s.dt.aoColumns.length-1&&(u=r(e.s.dt.nTable).css("border-right-width"),f+="string"==typeof u?1:parseInt(u,10)),e.s.aiOuterWidths.push(f),e.s.aiInnerWidths.push(o.width()),i<e.s.iLeftColumns&&(t+=f),e.s.iTableColumns-e.s.iRightColumns<=i&&(n+=f)}else e.s.aiInnerWidths.push(0),e.s.aiOuterWidths.push(0)}),this.s.iLeftWidth=t,this.s.iRightWidth=n},_fnGridSetup:function(){var e=this._fnDTOverflow(),t;this.dom.body=this.s.dt.nTable,this.dom.header=this.s.dt.nTHead.parentNode,this.dom.header.parentNode.parentNode.style.position="relative";var n=r('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0],i=n.childNodes[0],s=n.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(n,this.dom.grid.dt),n.appendChild(this.dom.grid.dt),this.dom.grid.wrapper=n,0<this.s.iLeftColumns&&(this.dom.grid.left.wrapper=i,this.dom.grid.left.head=i.childNodes[0],this.dom.grid.left.body=i.childNodes[1],this.dom.grid.left.liner=r("div.DTFC_LeftBodyLiner",n)[0],n.appendChild(i)),0<this.s.iRightColumns&&(this.dom.grid.right.wrapper=s,this.dom.grid.right.head=s.childNodes[0],this.dom.grid.right.body=s.childNodes[1],this.dom.grid.right.liner=r("div.DTFC_RightBodyLiner",n)[0],t=r("div.DTFC_RightHeadBlocker",n)[0],t.style.width=e.bar+"px",t.style.right=-e.bar+"px",this.dom.grid.right.headBlock=t,t=r("div.DTFC_RightFootBlocker",n)[0],t.style.width=e.bar+"px",t.style.right=-e.bar+"px",this.dom.grid.right.footBlock=t,n.appendChild(s)),this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,0<this.s.iLeftColumns&&(this.dom.grid.left.foot=i.childNodes[2]),0<this.s.iRightColumns)&&(this.dom.grid.right.foot=s.childNodes[2])},_fnGridLayout:function(){var e=this.dom.grid,t=r(e.wrapper).width(),n=r(this.s.dt.nTable.parentNode).outerHeight(),i=r(this.s.dt.nTable.parentNode.parentNode).outerHeight(),s=this._fnDTOverflow(),o=this.s.iLeftWidth,u=this.s.iRightWidth,a=function(e,t){s.bar?e.style.width=t+s.bar+"px":(e.style.width=t+20+"px",e.style.paddingRight="20px",e.style.boxSizing="border-box")};s.x&&(n-=s.bar),e.wrapper.style.height=i+"px",0<this.s.iLeftColumns&&(e.left.wrapper.style.width=o+"px",e.left.wrapper.style.height="1px",e.left.body.style.height=n+"px",e.left.foot&&(e.left.foot.style.top=(s.x?s.bar:0)+"px"),a(e.left.liner,o),e.left.liner.style.height=n+"px"),0<this.s.iRightColumns&&(t-=u,s.y&&(t-=s.bar),e.right.wrapper.style.width=u+"px",e.right.wrapper.style.left=t+"px",e.right.wrapper.style.height="1px",e.right.body.style.height=n+"px",e.right.foot&&(e.right.foot.style.top=(s.x?s.bar:0)+"px"),a(e.right.liner,u),e.right.liner.style.height=n+"px",e.right.headBlock.style.display=s.y?"block":"none",e.right.footBlock.style.display=s.y?"block":"none")},_fnDTOverflow:function(){var e=this.s.dt.nTable,t=e.parentNode,n={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};return e.offsetWidth>t.clientWidth&&(n.x=!0),e.offsetHeight>t.clientHeight&&(n.y=!0),n},_fnDraw:function(e){this._fnGridLayout(),this._fnCloneLeft(e),this._fnCloneRight(e),null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right),r(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(e){if(!(0>=this.s.iRightColumns)){var t,n=[];for(t=this.s.iTableColumns-this.s.iRightColumns;t<this.s.iTableColumns;t++)this.s.dt.aoColumns[t].bVisible&&n.push(t);this._fnClone(this.dom.clone.right,this.dom.grid.right,n,e)}},_fnCloneLeft:function(e){if(!(0>=this.s.iLeftColumns)){var t,n=[];for(t=0;t<this.s.iLeftColumns;t++)this.s.dt.aoColumns[t].bVisible&&n.push(t);this._fnClone(this.dom.clone.left,this.dom.grid.left,n,e)}},_fnCopyLayout:function(e,t){for(var n=[],i=[],s=[],o=0,u=e.length;o<u;o++){var a=[];a.nTr=r(e[o].nTr).clone(!0,!0)[0];for(var f=0,l=this.s.iTableColumns;f<l;f++)if(-1!==r.inArray(f,t)){var c=r.inArray(e[o][f].cell,s);-1===c?(c=r(e[o][f].cell).clone(!0,!0)[0],i.push(c),s.push(e[o][f].cell),a.push({cell:c,unique:e[o][f].unique})):a.push({cell:i[c],unique:e[o][f].unique})}n.push(a)}return n},_fnClone:function(e,t,i,s){var o=this,u,a,f,l,c,h,p,v,m,g=this.s.dt;if(s){null!==e.header&&e.header.parentNode.removeChild(e.header),e.header=r(this.dom.header).clone(!0,!0)[0],e.header.className+=" DTFC_Cloned",e.header.style.width="100%",t.head.appendChild(e.header),v=this._fnCopyLayout(g.aoHeader,i),l=r(">thead",e.header),l.empty(),u=0;for(a=v.length;u<a;u++)l[0].appendChild(v[u].nTr);g.oApi._fnDrawHead(g,v,!0)}else{v=this._fnCopyLayout(g.aoHeader,i),m=[],g.oApi._fnDetectHeader(m,r(">thead",e.header)[0]),u=0;for(a=v.length;u<a;u++){f=0;for(l=v[u].length;f<l;f++)m[u][f].cell.className=v[u][f].cell.className,r("span.DataTables_sort_icon",m[u][f].cell).each(function(){this.className=r("span.DataTables_sort_icon",v[u][f].cell)[0].className})}}this._fnEqualiseHeights("thead",this.dom.header,e.header),"auto"==this.s.sHeightMatch&&r(">tbody>tr",o.dom.body).css("height","auto"),null!==e.body&&(e.body.parentNode.removeChild(e.body),e.body=null),e.body=r(this.dom.body).clone(!0)[0],e.body.className+=" DTFC_Cloned",e.body.style.paddingBottom=g.oScroll.iBarWidth+"px",e.body.style.marginBottom=2*g.oScroll.iBarWidth+"px",null!==e.body.getAttribute("id")&&e.body.removeAttribute("id"),r(">thead>tr",e.body).empty(),r(">tfoot",e.body).remove();var y=r("tbody",e.body)[0];r(y).empty();if(0<g.aiDisplay.length){a=r(">thead>tr",e.body)[0];for(p=0;p<i.length;p++)c=i[p],h=r(g.aoColumns[c].nTh).clone(!0)[0],h.innerHTML="",l=h.style,l.paddingTop="0",l.paddingBottom="0",l.borderTopWidth="0",l.borderBottomWidth="0",l.height=0,l.width=o.s.aiInnerWidths[c]+"px",a.appendChild(h);r(">tbody>tr",o.dom.body).each(function(e){var t=this.cloneNode(!1);t.removeAttribute("id"),e=o.s.dt.aoData[o.s.dt.oFeatures.bServerSide===!1?o.s.dt.aiDisplay[o.s.dt._iDisplayStart+e]:e].anCells||r(this).children("td, th");for(p=0;p<i.length;p++)c=i[p],e.length>0&&(h=r(e[c]).clone(!0,!0)[0],t.appendChild(h));y.appendChild(t)})}else r(">tbody>tr",o.dom.body).each(function(){h=this.cloneNode(!0),h.className=h.className+" DTFC_NoData",r("td",h).html(""),y.appendChild(h)});e.body.style.width="100%",e.body.style.margin="0",e.body.style.padding="0",g.oScroller!==n&&(a=g.oScroller.dom.force,t.forcer?t.forcer.style.height=a.style.height:(t.forcer=a.cloneNode(!0),t.liner.appendChild(t.forcer))),t.liner.appendChild(e.body),this._fnEqualiseHeights("tbody",o.dom.body,e.body);if(null!==g.nTFoot){if(s){null!==e.footer&&e.footer.parentNode.removeChild(e.footer),e.footer=r(this.dom.footer).clone(!0,!0)[0],e.footer.className+=" DTFC_Cloned",e.footer.style.width="100%",t.foot.appendChild(e.footer),v=this._fnCopyLayout(g.aoFooter,i),t=r(">tfoot",e.footer),t.empty(),u=0;for(a=v.length;u<a;u++)t[0].appendChild(v[u].nTr);g.oApi._fnDrawHead(g,v,!0)}else{v=this._fnCopyLayout(g.aoFooter,i),t=[],g.oApi._fnDetectHeader(t,r(">tfoot",e.footer)[0]),u=0;for(a=v.length;u<a;u++){f=0;for(l=v[u].length;f<l;f++)t[u][f].cell.className=v[u][f].cell.className}}this._fnEqualiseHeights("tfoot",this.dom.footer,e.footer)}t=g.oApi._fnGetUniqueThs(g,r(">thead",e.header)[0]),r(t).each(function(e){c=i[e],this.style.width=o.s.aiInnerWidths[c]+"px"}),null!==o.s.dt.nTFoot&&(t=g.oApi._fnGetUniqueThs(g,r(">tfoot",e.footer)[0]),r(t).each(function(e){c=i[e],this.style.width=o.s.aiInnerWidths[c]+"px"}))},_fnGetTrNodes:function(e){for(var t=[],n=0,r=e.childNodes.length;n<r;n++)"TR"==e.childNodes[n].nodeName.toUpperCase()&&t.push(e.childNodes[n]);return t},_fnEqualiseHeights:function(e,t,n){if("none"!=this.s.sHeightMatch||"thead"===e||"tfoot"===e){var i,s,o=t.getElementsByTagName(e)[0],n=n.getElementsByTagName(e)[0],e=r(">"+e+">tr:eq(0)",t).children(":first");e.outerHeight(),e.height();for(var o=this._fnGetTrNodes(o),t=this._fnGetTrNodes(n),u=[],n=0,e=t.length;n<e;n++)i=o[n].offsetHeight,s=t[n].offsetHeight,i=s>i?s:i,"semiauto"==this.s.sHeightMatch&&(o[n]._DTTC_iHeight=i),u.push(i);n=0;for(e=t.length;n<e;n++)t[n].style.height=u[n]+"px",o[n].style.height=u[n]+"px"}}},i.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"},i.version="3.0.4",r.fn.dataTable.FixedColumns=i,r.fn.DataTable.FixedColumns=i};"function"==typeof define&&define.amd?define(["jquery","datatables"],r):"object"==typeof exports?r(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.FixedColumns&&r(jQuery,jQuery.fn.dataTable)})(window,document);