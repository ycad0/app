/*!
 Responsive 1.0.6
 2014-2015 SpryMedia Ltd - datatables.net/license
*/

(function(e,t){var n=function(n,r){var i=function(e,t){if(!r.versionCheck||!r.versionCheck("1.10.1"))throw"DataTables Responsive requires DataTables 1.10.1 or newer";this.s={dt:new r.Api(e),columns:[]},this.s.dt.settings()[0].responsive||(t&&"string"==typeof t.details&&(t.details={type:t.details}),this.c=n.extend(!0,{},i.defaults,r.defaults.responsive,t),e.responsive=this,this._constructor())};i.prototype={_constructor:function(){var t=this,r=this.s.dt;r.settings()[0]._responsive=this,n(e).on("resize.dtr orientationchange.dtr",r.settings()[0].oApi._fnThrottle(function(){t._resize()})),r.on("destroy.dtr",function(){n(e).off("resize.dtr orientationchange.dtr draw.dtr")}),this.c.breakpoints.sort(function(e,t){return e.width<t.width?1:e.width>t.width?-1:0}),this._classLogic(),this._resizeAuto();var i=this.c.details;i.type&&(t._detailsInit(),this._detailsVis(),r.on("column-visibility.dtr",function(){t._detailsVis()}),r.on("draw.dtr",function(){r.rows({page:"current"}).iterator("row",function(e,n){var i=r.row(n);if(i.child.isShown()){var s=t.c.details.renderer(r,n);i.child(s,"child").show()}})}),n(r.table().node()).addClass("dtr-"+i.type)),this._resize()},_columnsVisiblity:function(e){var t=this.s.dt,r=this.s.columns,i,s,o=n.map(r,function(t){return t.auto&&null===t.minWidth?!1:!0===t.auto?"-":-1!==n.inArray(e,t.includeIn)}),u=0;i=0;for(s=o.length;i<s;i++)!0===o[i]&&(u+=r[i].minWidth);i=t.settings()[0].oScroll,i=i.sY||i.sX?i.iBarWidth:0,t=t.table().container().offsetWidth-i-u,i=0;for(s=o.length;i<s;i++)r[i].control&&(t-=r[i].minWidth);u=!1,i=0;for(s=o.length;i<s;i++)"-"===o[i]&&!r[i].control&&(u||0>t-r[i].minWidth?(u=!0,o[i]=!1):o[i]=!0,t-=r[i].minWidth);t=!1,i=0;for(s=r.length;i<s;i++)if(!r[i].control&&!r[i].never&&!o[i]){t=!0;break}i=0;for(s=r.length;i<s;i++)r[i].control&&(o[i]=t);return-1===n.inArray(!0,o)&&(o[0]=!0),o},_classLogic:function(){var e=this,t=this.c.breakpoints,r=this.s.dt.columns().eq(0).map(function(e){return e=this.column(e).header().className,{className:e,includeIn:[],auto:!1,control:!1,never:e.match(/\bnever\b/)?!0:!1}}),i=function(e,t){var i=r[e].includeIn;-1===n.inArray(t,i)&&i.push(t)},s=function(n,s,o,u){if(o){if("max-"===o){u=e._find(s).width,s=0;for(o=t.length;s<o;s++)t[s].width<=u&&i(n,t[s].name)}else if("min-"===o){u=e._find(s).width,s=0;for(o=t.length;s<o;s++)t[s].width>=u&&i(n,t[s].name)}else if("not-"===o){s=0;for(o=t.length;s<o;s++)-1===t[s].name.indexOf(u)&&i(n,t[s].name)}}else r[n].includeIn.push(s)};r.each(function(e,r){for(var i=e.className.split(" "),o=!1,u=0,f=i.length;u<f;u++){var l=n.trim(i[u]);if("all"===l){o=!0,e.includeIn=n.map(t,function(e){return e.name});return}if("none"===l||"never"===l){o=!0;return}if("control"===l){o=!0,e.control=!0;return}n.each(t,function(e,t){var n=t.name.split("-"),i=l.match(RegExp("(min\\-|max\\-|not\\-)?("+n[0]+")(\\-[_a-zA-Z0-9])?"));i&&(o=!0,i[2]===n[0]&&i[3]==="-"+n[1]?s(r,t.name,i[1],i[2]+i[3]):i[2]===n[0]&&!i[3]&&s(r,t.name,i[1],i[2]))})}o||(e.auto=!0)}),this.s.columns=r},_detailsInit:function(){var e=this,t=this.s.dt,r=this.c.details;"inline"===r.type&&(r.target="td:first-child");var i=r.target;n(t.table().body()).on("click","string"==typeof i?i:"td",function(){if(n(t.table().node()).hasClass("collapsed")&&t.row(n(this).closest("tr")).length){if(typeof i=="number"){var r=i<0?t.columns().eq(0).length+i:i;if(t.cell(this).index().column!==r)return}r=t.row(n(this).closest("tr"));if(r.child.isShown())r.child(!1),n(r.node()).removeClass("parent");else{var s=e.c.details.renderer(t,r[0]);r.child(s,"child").show(),n(r.node()).addClass("parent")}}})},_detailsVis:function(){var e=this,t=this.s.dt,r=t.columns().indexes().filter(function(e){var r=t.column(e);return r.visible()?null:n(r.header()).hasClass("never")?null:e}),i=!0;if(0===r.length||1===r.length&&this.s.columns[r[0]].control)i=!1;i?t.rows({page:"current"}).eq(0).each(function(n){n=t.row(n);if(n.child()){var r=e.c.details.renderer(t,n[0]);!1===r?n.child.hide():n.child(r,"child").show()}}):t.rows({page:"current"}).eq(0).each(function(e){t.row(e).child.hide()})},_find:function(e){for(var t=this.c.breakpoints,n=0,r=t.length;n<r;n++)if(t[n].name===e)return t[n]},_resize:function(){var t=this.s.dt,r=n(e).width(),i=this.c.breakpoints,s=i[0].name,o=this.s.columns,u;for(u=i.length-1;0<=u;u--)if(r<=i[u].width){s=i[u].name;break}var a=this._columnsVisiblity(s),i=!1;u=0;for(r=o.length;u<r;u++)if(!1===a[u]&&!o[u].never){i=!0;break}n(t.table().node()).toggleClass("collapsed",i),t.columns().eq(0).each(function(e,n){t.column(e).visible(a[n])})},_resizeAuto:function(){var e=this.s.dt,t=this.s.columns;if(this.c.auto&&-1!==n.inArray(!0,n.map(t,function(e){return e.auto}))){e.table().node();var r=e.table().node().cloneNode(!1),i=n(e.table().header().cloneNode(!1)).appendTo(r),s=n(e.table().body().cloneNode(!1)).appendTo(r);n(e.table().footer()).clone(!1).appendTo(r),e.rows({page:"current"}).indexes().flatten().each(function(t){var r=e.row(t).node().cloneNode(!0);e.columns(":hidden").flatten().length&&n(r).append(e.cells(t,":hidden").nodes().to$().clone()),n(r).appendTo(s)});var o=e.columns().header().to$().clone(!1);n("<tr/>").append(o).appendTo(i),"inline"===this.c.details.type&&n(r).addClass("dtr-inline collapsed"),r=n("<div/>").css({width:1,height:1,overflow:"hidden"}).append(r),r.find("th.never, td.never").remove(),r.insertBefore(e.table().node()),e.columns().eq(0).each(function(e){t[e].minWidth=o[e].offsetWidth||0}),r.remove()}}},i.breakpoints=[{name:"desktop",width:Infinity},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}],i.defaults={breakpoints:i.breakpoints,auto:!0,details:{renderer:function(e,t){var r=e.cells(t,":hidden").eq(0).map(function(t){var r=n(e.column(t.column).header()),t=e.cell(t).index();if(r.hasClass("control")||r.hasClass("never"))return"";var i=e.settings()[0],i=i.oApi._fnGetCellData(i,t.row,t.column,"display");return(r=r.text())&&(r+=":"),'<li data-dtr-index="'+t.column+'"><span class="dtr-title">'+r+'</span> <span class="dtr-data">'+i+"</span></li>"}).toArray().join("");return r?n('<ul data-dtr-index="'+t+'"/>').append(r):!1},target:0,type:"inline"}};var s=n.fn.dataTable.Api;return s.register("responsive()",function(){return this}),s.register("responsive.index()",function(e){return e=n(e),{column:e.data("dtr-index"),row:e.parent().data("dtr-index")}}),s.register("responsive.rebuild()",function(){return this.iterator("table",function(e){e._responsive&&e._responsive._classLogic()})}),s.register("responsive.recalc()",function(){return this.iterator("table",function(e){e._responsive&&(e._responsive._resizeAuto(),e._responsive._resize())})}),i.version="1.0.6",n.fn.dataTable.Responsive=i,n.fn.DataTable.Responsive=i,n(t).on("init.dt.dtr",function(e,t){if("dt"===e.namespace&&(n(t.nTable).hasClass("responsive")||n(t.nTable).hasClass("dt-responsive")||t.oInit.responsive||r.defaults.responsive)){var s=t.oInit.responsive;!1!==s&&new i(t,n.isPlainObject(s)?s:{})}}),i};"function"==typeof define&&define.amd?define(["jquery","datatables"],n):"object"==typeof exports?n(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.Responsive&&n(jQuery,jQuery.fn.dataTable)})(window,document);